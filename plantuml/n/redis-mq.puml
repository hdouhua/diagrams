@startuml redis-mq
title redis message-queue

skinparam shadowing false
skinparam node {
	backgroundColor<<redis>> gold
}


package "App Server 1..*" as Server {
    node api <<service>> #Lime
}
database Redis_Cluster <<cache>> {
    node master <<redis>> as m
    node replica1 <<redis>> as r1
    node replica2 <<redis>> as r2
    m -[#lime]-> r1
    m -[#lime]-> r2
}
node listener <<service>>

api -down-> Redis_Cluster: publish
listener -right-> Redis_Cluster: subscribe


right footer Generated by hdouhua
@enduml