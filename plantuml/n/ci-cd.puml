@startuml ci-cd-big-picture
title CI/CD : big picture

skinparam shadowing false
skinparam frame {
    BorderColor Magenta
}
skinparam node<<teamcity>> {
    BorderColor Orange
}
skinparam node<<controller>> {
    BorderColor Blue
    BackgroundColor Lavender
}

skinparam legend {
    BackgroundColor LightYellow
}

frame VPC {
    package "App Server 1..*" {
        node "deployment \ncontroller" <<controller>> as controller
        node app <<application>>
        controller --> app: distribute \nartifacts
    }

    node FTP <<storage>>
    node "release\nserver" <<teamcity>> as release
}

actor developer <<creator>>
actor player <<user>>

node SVN <<VCS>>
node "build\nserver" <<teamcity>> as build


developer -> SVN: commit \ncode
build --> SVN: pull code
build --> FTP: build & upload \nartifacts
controller -> FTP: download \nshell & artifacts
release --> controller: trigger \ndeployment
player -left-> app: access

legend left
    - <font color=Magenta><b>VPC</b></font>
    - <font color=Blue><b>deployment-controller</b></font> may not be a dedicated server.
      - to Windows solution, it may be <u>teamcity release server</u>
      - to Linux solution, it may be <u>one of app servers</u>
endlegend


right footer Generated by hdouhua
@enduml